<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>線芯顏色計算</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    font-family: 'Noto Sans TC', sans-serif;
    background: linear-gradient(to bottom, #f5f7fa, #c3cfe2);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
}
.container {
    background: #ffffffcc;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,.1);
    width: 100%;
    max-width: 420px;
    text-align: center;
}
h2 {
    margin-bottom: 20px;
}
input, select, button {
    width: 100%;
    padding: 12px;
    font-size: 16px;
    margin-bottom: 15px;
    border-radius: 10px;
    border: 2px solid #ddd;
}
button {
    background: #007aff;
    color: white;
    border: none;
    cursor: pointer;
}
.result {
    margin-top: 20px;
    font-size: 20px;
    font-weight: bold;
    padding: 15px;
    border-radius: 12px;
    background: #e0f0ff;
    color: #007aff;
}
</style>
</head>

<body>
<div class="container">
    <h2>線芯顏色計算</h2>

    <!-- 選擇模式 -->
    <select id="mode">
        <option value="48">48C(6 芯 × 8 管）</option>
        <option value="24">24C（6 芯 × 4 管）</option>
        <option value="20">帶狀</option>
    </select>

    <input type="number" id="startCore" value="1" placeholder="起始芯數">
    <input type="number" id="inputCore" placeholder="請輸入芯數">

    <button onclick="calculate()">計算</button>

    <div class="result" id="resultText">結果顯示</div>
</div>

<script>
function calculate() {
    const mode = document.getElementById("mode").value;
    const start = parseInt(document.getElementById("startCore").value);
    const input = parseInt(document.getElementById("inputCore").value);
    const result = document.getElementById("resultText");

    if (isNaN(start) || isNaN(input) || start <= 0 || input <= 0) {
        result.textContent = "請輸入正確數字";
        return;
    }

    const a = start + input - 1;

    /* ===== 20 芯（一溝） ===== */
    if (mode === "20") {
        let g, b, color;

        if (a % 20 === 0) {
            g = a / 20;
            color = "紫粉";
        } else {
            g = Math.floor(a / 20) + 1;
            b = a % 20;

            const colors = [
                "紫粉","藍","藍1白","藍2白","藍粉",
                "黃","黃1白","黃2白","黃粉",
                "綠","綠1白","綠2白","綠粉",
                "紅","紅1白","紅2白","紅粉",
                "紫","紫1白","紫2白"
            ];
            color = colors[b];
        }

        result.textContent = `第 ${a} 芯 → 第 ${g} 溝 ${color}`;
        return;
    }

    /* ===== 48 / 24 芯（管 + 芯） ===== */
    const coreColors = ["藍", "黃", "綠", "紅", "紫", "白"];
    const tubeColors48 = ["藍", "黃", "綠", "紅", "紫", "白", "黑", "橘"];
    const tubeColors24 = ["藍", "黃", "綠", "紅"];

    const tubeIndex = Math.floor((a - 1) / 6);
    const coreIndex = (a - 1) % 6;

    if (mode === "48" && a > 48) {
        result.textContent = "超過 48 芯範圍";
        return;
    }
    if (mode === "24" && a > 24) {
        result.textContent = "超過 24 芯範圍";
        return;
    }

    const tubeColor = mode === "48"
        ? tubeColors48[tubeIndex]
        : tubeColors24[tubeIndex];

    const coreColor = coreColors[coreIndex];

    result.textContent = `第 ${a} 芯 → ${tubeColor}管 ${coreColor}芯線`;
}
</script>
</body>
</html>
